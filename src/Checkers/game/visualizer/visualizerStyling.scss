// A map with the path incides and their corresponding color.
// ! This would never be larger than 4, as there could be a maximum of 4 paths, which are:
// 1. The first path, which is the bottom left path if the player is 1, or the top left path if the player is 2.
// 2. The second path, which is the bottom right path if the player is 1, or the top right path if the player is 2.
// 3. The third path, which is the top left path if the player is 1, or the bottom left path if the player is 2.
// 4. The fourth path, which is the top right path if the player is 1, or the bottom right path if the player is 2.
// ! Path 3 or 4 would only be used whenever the stone could move backwards.
$path-colors: (
    1: green,
    2: blue,
    3: yellow,
    4: purple
);

$paths-amount: length($path-colors);

// Function to get the color of a path based on its index.
// ! Do note that the index is 1-based, not 0-based.
@function get-path-color($index) {
    $path-color: map-get($path-colors, $index);

    // If the path color could not be found, throw an error.
    @if not $path-color {
        @error "Invalid path index: #{$index}. Valid indices are 1 through #{$paths-amount}.";
    }

    @return $path-color;
}

// Custom CSS properties for each path color.
// This will be used to set the color for the paths dynamically.
@for $i from 1 through $paths-amount {
    :root {
        --path-color-#{$i}: #{get-path-color($i)};
    }
}

.drop-zone {
    background: get-path-color(1);
    opacity: 0.4;

    // If two paths could reach the same drop zone,
    // the background of the drop zone would consist of two rectangular sections.
    // The first section, on the left, would be 50% of the first path color,
    // and the second section, on the right, would be 50% of the second path color.
    &.dual-path-convergence {
        background: linear-gradient(
            to right,
            get-path-color(1) 0 50%, 
            get-path-color(2) 50% 100%
        );
    }

    // If three paths could reach the same drop zone,
    // the background of the drop zone would consist of three triangular sections.
    // The first section, on the left, would be 33% of the first path color.
    // The second section, in the middle, would be 33% of the second path color,
    // And the third section, on the right, would be 33% of the third path color.
    &.triple-path-convergence {
        background: conic-gradient(
            from 0deg, 
            get-path-color(2) 0 120deg,
            get-path-color(3) 120deg 240deg,
            get-path-color(1) 240deg 360deg
        );
    }

    // If four paths could reach the same drop zone,
    // the background of the drop zone would consist of four square sections.
    // The first section, on the top left, would be 25% of the first path color.
    // The second section, on the top right, would be 25% of the second path color.
    // The third section, on the bottom left, would be 25% of the third path color.
    // And the fourth section, on the bottom right, would be 25% of the fourth path color.
    &.quadruple-path-convergence {
        background: conic-gradient(
            from 0deg,
            get-path-color(2) 0 90deg,
            get-path-color(4) 90deg 180deg,
            get-path-color(3) 180deg 270deg,
            get-path-color(1) 270deg 360deg
        );
    }
}