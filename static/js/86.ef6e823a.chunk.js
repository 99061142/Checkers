"use strict";(self.webpackChunkcheckers=self.webpackChunkcheckers||[]).push([[86],{86:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var a=t(5043),l=t(4282),n=t(3519),r=t(1072),i=t(8602),o=t(2300),d=t(136),c=t(9384),m=t(9050),g=t(4451),h=t(6190),u=t(1433),x=t(2780),p=t(2900),j=t(6978),f=t(5040),b=t(8545),N=t(579);const A=()=>{const{canGameBeLoaded:e}=(0,f.C$)(),{gameSettings:s,gameSettingOptions:t,setGameSettings:a}=(0,m.N)(),l=e=>{const s=e.target.value,t=e.target.checked;a((e=>({...e,rules:{...e.rules,[s]:t}})))};return(0,N.jsx)(h.A,{children:(0,N.jsxs)(r.A,{children:[(0,N.jsxs)(i.A,{md:6,className:"left-settings-column",children:[(0,N.jsxs)("fieldset",{className:"settings-group",children:[(0,N.jsx)("legend",{className:"settings-group-title",children:"Board settings"}),(0,N.jsx)("div",{className:"mb-3 form-groups",children:(0,N.jsxs)(u.A,{className:"auto-width-form-group form-group",children:[(0,N.jsx)(x.A,{htmlFor:"BoardRowetting",children:"Number of rows"}),(0,N.jsx)(p.A,{id:"BoardRowetting",value:s.board.rows,onChange:e=>{const s=Number(e.target.value);a((e=>({...e,board:{...e.board,rows:s}})))},disabled:e,children:t.board.rows.map((e=>(0,N.jsx)("option",{value:e,children:e},e)))})]})})]}),(0,N.jsxs)("fieldset",{className:"settings-group",children:[(0,N.jsx)("legend",{className:"settings-group-title",children:"Player settings"}),(0,N.jsx)("div",{className:"mb-3 form-groups",children:(0,N.jsxs)(u.A,{className:"auto-width-form-group form-group",children:[(0,N.jsx)(x.A,{htmlFor:"initialPlayerSetting",children:"Initial player"}),(0,N.jsx)(p.A,{id:"initialPlayerSetting",className:"form-select",value:s.player.initialPlayer,onChange:e=>{const s=Number(e.target.value);a((e=>({...e,player:{...e.player,initialPlayer:s}})))},disabled:e,children:t.player.initialPlayer.map((e=>(0,N.jsxs)("option",{value:e,children:["Player ",e]},e)))})]})})]})]}),(0,N.jsxs)(i.A,{md:6,children:[(0,N.jsxs)("fieldset",{className:"settings-group",children:[(0,N.jsx)("legend",{className:"settings-group-title",children:"Mode settings"}),(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsxs)(u.A,{className:"auto-width-form-group",children:[(0,N.jsx)(x.A,{htmlFor:"gameModeSetting",children:"Game mode"}),(0,N.jsx)(p.A,{id:"gameModeSetting",className:"form-select",value:s.mode.gamemode,onChange:e=>{const s=e.target.value;a((e=>({...e,mode:{...e.mode,gamemode:s}})))},disabled:e,children:t.mode.gamemode.map((e=>(0,N.jsx)("option",{value:e,children:e.toUpperCase()},e)))})]})})]}),(0,N.jsxs)("fieldset",{className:"settings-group",children:[(0,N.jsx)("legend",{className:"settings-group-title",children:"Game rules"}),b.ni.map((t=>(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsx)(j.A,{type:"checkbox",id:`${t}Setting`,label:t.charAt(0).toUpperCase()+t.slice(1).replace(/([A-Z])/g," $1").toLowerCase(),checked:s.rules[t],onChange:l,value:t,disabled:e,className:"checkbox-right"})},t)))]})]})]})})},w=["game"],k={game:()=>(0,N.jsx)(A,{})},v=e=>{const{togglePreviousComponent:s}=e,{setIsSettingFormShown:t}=(0,m.N)(),[h,u]=(0,a.useState)("game"),x=(0,a.useCallback)((()=>{s()}),[s]),p=(0,a.useCallback)((e=>{"escape"===e.key.toLowerCase()&&x()}),[x]);return(0,a.useEffect)((()=>(window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)})),[p]),(0,a.useEffect)((()=>(t(!0),()=>{t(!1)})),[t]),(0,N.jsxs)("div",{"data-testid":"settings",children:[(0,N.jsxs)("div",{className:"m-3 d-flex justify-content-between",children:[(0,N.jsx)("h1",{children:"Settings"}),(0,N.jsx)(l.A,{"data-testid":"exitButton",className:"border-0 bg-transparent text-dark text-bold btn btn-lg",onClick:x,children:"X"})]}),(0,N.jsx)("hr",{}),(0,N.jsx)(n.A,{fluid:!0,children:(0,N.jsxs)(r.A,{children:[(0,N.jsx)(i.A,{md:2,className:"d-flex justify-content-center align-items-start",children:(0,N.jsx)(o.A,{children:(0,N.jsx)(d.A,{style:{color:"black",fontSize:"1.25rem"},children:w.map((e=>{const s=e.charAt(0).toUpperCase()+e.slice(1),t=e===e;return(0,N.jsx)(c.A,{as:l.A,className:"text-dark bg-transparent",style:{fontWeight:t?"bold":"normal"},"data-testid":`settingsNavLink${s}`,disabled:t,draggable:!1,onClick:()=>u(e),children:s},e)}))})})}),(0,N.jsx)(i.A,{md:10,children:(0,N.jsx)(a.Suspense,{fallback:(0,N.jsx)(g.A,{}),children:(()=>{const e=k[h];if(!e){const e=(e=>{let s=`The form name '${e}' isn't one of the possible form names. Please ensure that the form name is one of the following options: \n`;for(const t of w)s+=`\n- ${t}`;return s})(h)+"\n\nThe form for the game will be shown as fallback.";console.error(e),u("game")}return e()})()})})]})})]})}}}]);
//# sourceMappingURL=86.ef6e823a.chunk.js.map