/*! For license information please see 885.21895580.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcheckers=self.webpackChunkcheckers||[]).push([[885],{8885:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var r=s(5043),n=s(3519),a=s(1072),i=s(8602),l=s(3161);const o=["game"],c=new Set(o),d="game",m=e=>!!c.has(e),u=`The fallback settings form name "${d}" is not a valid settings form name.`,g=e=>`The component "${e}" is missing its configuration. Please ensure that there is a configuration for the component "${e}".`;var h=s(6190),x=s(1433),j=s(2780),p=s(2900),f=s(6978),v=s(1270);const b=function(){const e=(0,r.useContext)(v.K);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e};var N=s(579);const A=()=>{const{settings:e,updateSetting:t}=b(),s=null===e||void 0===e?void 0:e.game;if(!s)return console.error("No game settings available."),null;const r=e=>{const s=e.target,r=s.value,n=s.checked;t(["game","rules",r],n)};return(0,N.jsxs)(h.A,{"data-testid":"gameSettingsForm",children:[(0,N.jsxs)(a.A,{className:"mb-4",children:[(0,N.jsx)(i.A,{md:6,children:(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:"Board settings"}),(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsxs)(x.A,{className:"form-group form-group-left",children:[(0,N.jsx)(j.A,{htmlFor:"BoardRowSetting",children:"Number of rows"}),(0,N.jsx)(p.A,{id:"BoardRowSetting",value:s.board.rows.value,onChange:e=>{const s=parseInt(e.target.value,10);t(["game","board","rows"],s)},children:s.board.rows.options.map((e=>(0,N.jsx)("option",{value:e,children:e},e)))})]})})]})}),(0,N.jsx)(i.A,{md:6,children:(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:"Player settings"}),(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsxs)(x.A,{className:"form-group form-group-right",children:[(0,N.jsx)(j.A,{htmlFor:"initialPlayerSetting",children:"Initial player"}),(0,N.jsx)(p.A,{id:"initialPlayerSetting",value:s.player.initialPlayer.value,onChange:e=>{const s=parseInt(e.target.value,10);t(["game","player","initialPlayer"],s)},children:s.player.initialPlayer.options.map((e=>(0,N.jsxs)("option",{value:e,children:["Player ",e]},e)))})]})})]})})]}),(0,N.jsxs)(a.A,{children:[(0,N.jsx)(i.A,{md:6,children:(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:"Mode settings"}),(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsxs)(x.A,{className:"form-group form-group-left",children:[(0,N.jsx)(j.A,{htmlFor:"gameModeSetting",children:"Game mode"}),(0,N.jsx)(p.A,{id:"gameModeSetting",value:s.mode.gamemode.value,onChange:e=>{const s=e.target.value;t(["game","mode","gamemode"],s)},children:s.mode.gamemode.options.map((e=>(0,N.jsx)("option",{value:e,children:e.toUpperCase()},e)))})]})})]})}),(0,N.jsx)(i.A,{md:6,children:(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:"Game rules"}),(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsx)(x.A,{className:"form-group form-group-right checkbox-group",children:Object.keys(s.rules).map((e=>(0,N.jsx)("div",{className:"mb-3",children:(0,N.jsx)(f.A,{id:`${e}Setting`,label:e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1").toLowerCase(),checked:s.rules[e].value,onChange:r,value:e,className:"checkbox-right"})},e)))})})]})})]})]})};var k=s(392);const C=e=>{let{initialSettingsFormName:t=d,currentFormName:s,setCurrentFormName:n}=e;if(!m(d))throw new RangeError(u);const a=(0,r.useMemo)((()=>({game:(e=>{const{Component:t,props:s,displayName:n}=e,a=(0,r.memo)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,N.jsx)(t,{...s,...e})}));return a.displayName=n,{...e,Component:a}})({Component:A,shouldSuspense:!1,props:{},displayName:"Game"})})),[]),i=(0,r.useCallback)((e=>{const t=a[e];if(!t){const t=g(e);return console.error(t),null}return t}),[a]),l=(0,r.useCallback)((()=>{if(!s)return null;const e=i(s);if(!e){const e=g(s);console.error(e);return i(d)}return e}),[s,i]);if((0,r.useEffect)((()=>{if(!m(t)){const e=`The settings form name "${t}" is not valid. Reverting to the fallback settings form "${d}".`;return console.error(e),void n(d)}n(t)}),[t,n]),!s)return(0,N.jsx)(k.A,{});const{Component:o,shouldSuspense:c}=l()||{};return(0,N.jsx)(N.Fragment,{children:c?(0,N.jsx)(r.Suspense,{fallback:(0,N.jsx)(k.A,{}),children:o?(0,N.jsx)(o,{}):null}):o?(0,N.jsx)(o,{}):null})};var w=s(5292),S=s(136),y=s(9384),F=s(4282);const P="SettingsFormNavbar_formNav__PBOBk",$="SettingsFormNavbar_navLink__bT+fY";const B=e=>{let{currentFormName:t,setCurrentFormName:s}=e;return(0,N.jsx)(w.A,{"data-testid":"settingsFormNavbar",children:(0,N.jsx)(S.A,{className:P,children:o.map((e=>{const r=(n=e).charAt(0).toUpperCase()+n.slice(1);var n;const a=t===e;return(0,N.jsx)(y.A,{as:F.A,className:`${$} text-dark bg-transparent ${a?"active":""}`,"data-testid":`settingsFormLink${r}`,disabled:a,draggable:!1,onClick:()=>s(e),children:r},e)}))})})};var E=s(5627);const _=e=>{let{exitSettings:t}=e;return(0,N.jsx)(w.A,{"data-testid":"settingsNavbar",className:"d-flex justify-content-between bg-dark p-3",children:(0,N.jsxs)(n.A,{fluid:!0,children:[(0,N.jsx)(E.A,{className:"text-white","data-testid":"settingsNavbarBrand",children:"Settings"}),(0,N.jsx)(S.A,{children:(0,N.jsx)(F.A,{"data-testid":"settingsNavbarExitButton",className:"border-0 bg-transparent text-bold btn btn-lg text-white",onClick:t,children:"X"})})]})})},L=e=>{let{initialSettingsFormName:t=d}=e;const{goBack:s}=(0,l.A)(),[o,c]=(0,r.useState)(null),m=(0,r.useCallback)((()=>{s()}),[s]),u=(0,r.useCallback)((e=>{"Escape"===e.key&&m()}),[m]);return(0,r.useEffect)((()=>(window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)})),[u]),(0,N.jsxs)("main",{"data-testid":"settings",children:[(0,N.jsx)(_,{exitSettings:m}),(0,N.jsx)(n.A,{fluid:!0,children:(0,N.jsxs)(a.A,{children:[(0,N.jsx)(i.A,{md:2,className:"d-flex justify-content-center align-items-start",children:(0,N.jsx)(B,{currentFormName:o,setCurrentFormName:c})}),(0,N.jsx)(i.A,{md:10,children:(0,N.jsx)(C,{initialSettingsFormName:t,currentFormName:o,setCurrentFormName:c})})]})})]})}}}]);
//# sourceMappingURL=885.21895580.chunk.js.map